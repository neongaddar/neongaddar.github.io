<!-- ÐžÐ±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð½Ð°Ñ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ Ñ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒÑŽ -->
<header>
    <nav class="container">
        <div class="nav-controls">
            <a href="index.html" class="logo">
                âš¡ NEONPAY
            </a>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html" data-en="Home" data-ru="Ð“Ð»Ð°Ð²Ð½Ð°Ñ" data-az="Ana sÉ™hifÉ™">Home</a></li>
                <li><a href="quick-start.html" data-en="Quick Start" data-ru="Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚" data-az="SÃ¼rÉ™tli baÅŸlanÄŸÄ±c">Quick Start</a></li>
                <li><a href="api-docs.html" data-en="API Docs" data-ru="API Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ" data-az="API sÉ™nÉ™dlÉ™ri">API Docs</a></li>
                <li><a href="examples.html" data-en="Examples" data-ru="ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹" data-az="NÃ¼munÉ™lÉ™r">Examples</a></li>
                <li><a href="libraries.html" data-en="Libraries" data-ru="Ð‘Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸" data-az="Kitabxanalar">Libraries</a></li>
            </ul>
            <div class="language-selector">
                <button class="lang-btn active" data-lang="en">EN</button>
                <button class="lang-btn" data-lang="ru">RU</button>
                <button class="lang-btn" data-lang="az">AZ</button>
            </div>
        </div>
        <button class="mobile-menu" id="mobileMenu">â˜°</button>
    </nav>
</header>

<style>
    :root {
        --background: #ffffff;
        --foreground: #1f2937;
        --card: #f8fafc;
        --card-foreground: #1f2937;
        --primary: #6366f1;
        --primary-foreground: #ffffff;
        --secondary: #f8fafc;
        --secondary-foreground: #1f2937;
        --muted: #e5e7eb;
        --muted-foreground: #6b7280;
        --accent: #4ade80;
        --accent-foreground: #1f2937;
        --border: #d1d5db;
        --radius: 0.5rem;
    }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    header {
        background: rgba(255,255,255,0.95);
        border-bottom: 1px solid var(--border);
        position: sticky; top: 0; z-index: 100;
        backdrop-filter: blur(20px);
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    nav { display: flex; justify-content: space-between; align-items: center; padding: 1rem 0; }
    .logo { display: flex; align-items: center; gap: .5rem; font-size: 1.5rem; font-weight: 700; color: var(--primary); text-decoration: none; }
    .nav-links { display: flex; gap: 2rem; list-style: none; transition: all .3s ease; }
    .nav-links a { color: var(--foreground); text-decoration: none; font-weight: 500; transition: all .3s ease; padding: .5rem 1rem; border-radius: .5rem; }
    .nav-links a:hover, .nav-links a.active { color: var(--primary); background: var(--secondary); }
    .mobile-menu { display: none; background: none; border: none; font-size: 1.5rem; cursor: pointer; padding: .5rem; border-radius: .5rem; transition: background .3s ease; }
    .mobile-menu:hover { background: var(--secondary); }
    .nav-controls { display: flex; align-items: center; gap: 1rem; }
    .language-selector { display: flex; gap: .5rem; align-items: center; margin-left: 1rem; }
    .lang-btn { background: none; border: 1px solid var(--border); padding: .25rem .5rem; border-radius: .25rem; cursor: pointer; font-size: .8rem; transition: all .3s ease; }
    .lang-btn:hover, .lang-btn.active { background: var(--primary); color: var(--primary-foreground); border-color: var(--primary); }
    @media (max-width: 768px) {
        .nav-controls { flex-direction: column; gap: .5rem; }
        .nav-links {
            display: none; position: absolute; top: 100%; left: 0; right: 0;
            background: rgba(255,255,255,0.98); flex-direction: column; padding: 1rem;
            border-top: 1px solid var(--border); backdrop-filter: blur(20px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); transform: translateY(-10px);
            opacity: 0; visibility: hidden; transition: all .3s ease;
        }
        .nav-links.active { display: flex; transform: translateY(0); opacity: 1; visibility: visible; }
        .mobile-menu { display: block; }
        .language-selector { margin-left: 0; margin-top: 1rem; }
    }
</style>

<script>
class Navigation {
    constructor() {
        this.currentLang = localStorage.getItem('preferred-language') || 'en';
        this.currentPage = window.location.pathname.split('/').pop() || 'index.html';
    }

    init() {
        this.setupEventListeners();
        this.highlightCurrentPage();
        this.loadSavedLanguage();
    }

    setupEventListeners() {
        const mobileMenu = document.getElementById('mobileMenu');
        const navLinks = document.getElementById('navLinks');
        const langBtns = document.querySelectorAll('.lang-btn');

        // Mobile menu toggle
        if (mobileMenu && navLinks) {
            mobileMenu.addEventListener('click', () => {
                navLinks.classList.toggle('active');
            });
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            const nav = document.querySelector('nav');
            if (nav && navLinks && !nav.contains(e.target)) {
                navLinks.classList.remove('active');
            }
        });

        // Close mobile menu when clicking a link
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => navLinks && navLinks.classList.remove('active'));
        });

        // Language buttons
        langBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                const lang = e.currentTarget.getAttribute('data-lang');
                this.setLanguage(lang);
            });
        });
    }

    setLanguage(lang) {
        this.currentLang = lang;

        // Active button state
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        const activeLangBtn = document.querySelector(`[data-lang="${lang}"]`);
        if (activeLangBtn) activeLangBtn.classList.add('active');

        // Update nav text from data-*
        this.updateNavText(lang);

        // Persist
        localStorage.setItem('preferred-language', lang);

        // ðŸ”” Ð’ÐµÑ€Ð½ÑƒÐ»Ð¸ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð¸ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¹ Ñ…ÑƒÐº
        const languageChangeEvent = new CustomEvent('languageChanged', { detail: { language: lang } });
        window.dispatchEvent(languageChangeEvent);
        if (typeof window.applyTranslations === 'function') {
            window.applyTranslations(lang);
        }
    }

    updateNavText(lang) {
        document.querySelectorAll(`.nav-links a[data-${lang}]`).forEach(item => {
            const text = item.getAttribute(`data-${lang}`);
            if (text) item.textContent = text;
        });
    }

    highlightCurrentPage() {
        document.querySelectorAll('.nav-links a').forEach(item => {
            if (item.getAttribute('href') === this.currentPage) {
                item.classList.add('active');
            }
        });
    }

    loadSavedLanguage() {
        const savedLang = localStorage.getItem('preferred-language') || 'en';
        this.setLanguage(savedLang);
    }

    getCurrentLanguage() {
        return this.currentLang;
    }

    // âœ… ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð¼ÐµÑ‚Ð¾Ð´, ÐµÑÐ»Ð¸ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚Ðµ Ð¸Ð·Ð²Ð½Ðµ: navigation.applyLanguage('ru')
    applyLanguage(lang) {
        this.setLanguage(lang);
    }
}

let globalNavigation = null;
document.addEventListener('DOMContentLoaded', () => {
    globalNavigation = new Navigation();
    globalNavigation.init();
    window.navigation = globalNavigation;
});
</script>
